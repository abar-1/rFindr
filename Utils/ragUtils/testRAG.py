import SupabaseAPI
from EmbGenerator import generate_Embedding

db = SupabaseAPI.SupabaseAPI()

# known_embedding = [-0.1344873,-0.06477025,0.041998386,-0.0028979904,0.03446304,-0.034740295,0.016788471,0.025081512,-0.028611142,-0.013746262,-0.10027361,0.08656678,-0.01918629,0.015788956,-0.09490219,0.085071646,0.029180722,-0.048784308,0.015701342,-0.05901115,0.03541313,0.078535825,-0.0027767206,-0.048675,-0.0078662485,0.03760242,-0.025174623,-0.05665768,0.005349338,-0.007150805,0.009660194,-0.05411807,0.031404622,0.033782348,0.002304445,0.044892497,0.033519268,0.009649638,-0.021704104,-0.056084737,0.002994744,0.0066636777,0.04767819,0.039980598,0.03829382,-0.007199433,-0.026422989,-0.106679946,0.09668053,-0.040314797,-0.018843671,-0.09767053,-0.005805941,-0.09930662,-0.058091484,0.09775317,0.08572388,0.04128346,-0.023510523,0.0019463088,0.042111825,-0.057914045,-0.023640407,0.030431595,0.012568843,-0.0100059565,0.006000952,0.034114663,0.019631919,-0.035837892,0.034058906,0.048152283,-0.055280548,0.038870607,0.093250655,0.081495434,0.068200715,0.09322476,0.12378334,-0.034652244,-0.019682165,0.0013924522,-0.023434117,0.014629708,-0.008255989,0.038284935,-0.0464748,0.008676086,-0.003737695,0.0037820493,0.050275117,-0.07825242,0.0077879634,-0.016226118,-0.038894527,0.030827286,-0.019850364,-0.08220445,-0.05128438,0.047063027,-0.09983316,0.14802423,-0.033715244,-0.029676463,-0.009272037,0.0653473,0.04480322,0.013603304,0.02690124,-0.0073659904,0.06513454,0.040924214,-0.018451195,0.07084049,-0.038617123,-0.031051813,-0.036324564,-0.011471975,0.051772837,0.03606601,-0.0109781,0.017081711,-0.018317768,0.036235172,-0.06275413,-0.08698575,-0.033258032,2.535669e-33,-0.047908302,0.08678721,0.019739365,0.031598814,-0.019070778,0.024327755,0.031135712,0.052711405,-0.053849395,0.011725751,-0.058328625,0.045583036,0.072044194,0.0619046,-0.0034370224,0.017512402,0.01526259,-0.00040828082,0.015407716,-0.007892055,0.06991696,-0.07738019,0.04773587,-0.03464249,0.06718709,0.00041701386,-0.045670643,0.0071163173,0.01861802,-0.0008724377,-0.06585305,0.061080474,-0.12140298,-0.0101977745,0.03009127,-0.017737696,-0.04584882,-0.047887757,0.018858114,0.040456366,-0.06555182,0.10792837,0.023283644,0.017425662,-0.00051535387,-0.017626366,0.114040814,0.0513052,0.16643639,-0.05316123,-0.11348311,-0.052371748,0.052922156,-0.08293777,0.07121605,-0.009239941,0.07677846,0.10034912,0.035351165,-0.008070081,0.008165898,0.049524035,-0.07952936,-0.030164944,-0.053399302,-0.0286725,-0.029345015,-0.019954955,0.050187115,-0.023375751,0.025474677,-0.018776208,-0.028965717,-0.040939458,-0.044539787,-0.06152448,0.0045498507,-0.065453134,0.022460025,-0.018595217,-0.10991346,-0.022854814,-0.019027654,-0.09089264,-0.0089575695,-0.045341425,-0.0024919985,0.04032304,0.028597903,0.04835656,0.032074757,-0.022336561,0.035200614,0.064858906,-0.054318935,-4.070694e-33,-0.052797534,0.041282345,0.020338763,0.019745164,0.04173925,-0.0067960545,0.002624712,0.0039805844,-0.013225319,-0.032813013,0.049519718,0.05160899,-0.01479624,0.017950132,0.036185335,0.04812054,-0.048833627,-0.038665228,-0.03246196,-0.040986788,0.05767858,0.11970098,-0.080362715,-0.061080962,0.05211594,-0.04354145,-0.033619348,0.027897824,-0.036074303,0.027517948,-0.0054044495,0.041292053,-0.06384303,0.1147981,0.06492017,0.031057207,0.066458374,0.011501173,0.0032407138,0.058170646,0.11119691,0.02741255,-0.012531957,0.039909814,0.078592695,0.051563326,-0.11867639,0.02544572,-0.08560449,0.04434606,-0.059575606,-0.0627414,-0.033587065,0.006231676,0.06149203,-0.032313038,0.075853646,0.046870388,0.0110467905,0.021617955,0.03245944,-0.06237869,0.031824026,0.057756856,-0.08586611,-0.051362783,-0.0053591058,0.066758275,-0.097242706,0.038151573,-0.028854873,0.031433996,0.030655991,-0.064039394,-0.092612274,0.0140341185,0.08128695,-0.038857613,-0.06313615,-0.09534569,-0.061613567,0.11913495,-0.032082964,0.00453931,-0.0130164465,0.047346387,0.07053739,-0.013802298,0.011126247,0.029446106,-0.023855504,-0.0398384,0.04546717,-0.06607627,-0.051602285,-5.627533e-08,-0.033305656,0.040175963,-0.013881654,-0.036159277,0.0438168,0.0152597455,-0.03188495,-0.037129715,-0.059477504,-0.008819213,0.04009863,-0.068293,-0.012000872,-0.004778703,0.109220564,0.019659609,-0.002098846,-0.015578904,-0.06649576,-0.0038978837,0.038011912,0.013890882,-0.035399,0.06342302,-0.010116351,-0.054802056,0.044043835,0.030471848,-0.013446034,-0.009022111,-0.06599587,0.054333348,0.032508813,-0.034048393,0.06784687,0.038203232,-0.015154252,0.04204968,0.011634502,0.009521589,-0.0898887,-0.019075554,-0.053649344,-0.027125636,0.08226165,-0.0068906923,0.0027846782,-0.025065456,-0.0003589637,0.039526958,-0.017766014,-0.10077566,-0.04053973,-0.04588121,0.0016068283,-0.045409746,-0.05561481,-0.096003324,-0.022729576,-0.0593357,0.029606076,-0.036643546,-0.017132888,-0.04927508]

customUserBio = "I am a CS student interested in computer vision and machine learning. My research focuses on developing algorithms for image recognition and natural language processing. I want to find professors who specialize in these areas and have published papers on related topics."

custom_embedding = generate_Embedding(customUserBio)

res = db.rag_Search(custom_embedding, match_count = 10)
print(len(res))
for record in res:
    print(f"Professor Name:  {record['name']}, Email: {record['email']}, Similarity Score: {record['similarity']}")