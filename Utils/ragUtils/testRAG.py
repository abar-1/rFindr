import SupabaseAPI
from EmbGenerator import generate_Embedding

db = SupabaseAPI.SupabaseAPI()

# known_embedding = [-0.1344873,-0.06477025,0.041998386,-0.0028979904,0.03446304,-0.034740295,0.016788471,0.025081512,-0.028611142,-0.013746262,-0.10027361,0.08656678,-0.01918629,0.015788956,-0.09490219,0.085071646,0.029180722,-0.048784308,0.015701342,-0.05901115,0.03541313,0.078535825,-0.0027767206,-0.048675,-0.0078662485,0.03760242,-0.025174623,-0.05665768,0.005349338,-0.007150805,0.009660194,-0.05411807,0.031404622,0.033782348,0.002304445,0.044892497,0.033519268,0.009649638,-0.021704104,-0.056084737,0.002994744,0.0066636777,0.04767819,0.039980598,0.03829382,-0.007199433,-0.026422989,-0.106679946,0.09668053,-0.040314797,-0.018843671,-0.09767053,-0.005805941,-0.09930662,-0.058091484,0.09775317,0.08572388,0.04128346,-0.023510523,0.0019463088,0.042111825,-0.057914045,-0.023640407,0.030431595,0.012568843,-0.0100059565,0.006000952,0.034114663,0.019631919,-0.035837892,0.034058906,0.048152283,-0.055280548,0.038870607,0.093250655,0.081495434,0.068200715,0.09322476,0.12378334,-0.034652244,-0.019682165,0.0013924522,-0.023434117,0.014629708,-0.008255989,0.038284935,-0.0464748,0.008676086,-0.003737695,0.0037820493,0.050275117,-0.07825242,0.0077879634,-0.016226118,-0.038894527,0.030827286,-0.019850364,-0.08220445,-0.05128438,0.047063027,-0.09983316,0.14802423,-0.033715244,-0.029676463,-0.009272037,0.0653473,0.04480322,0.013603304,0.02690124,-0.0073659904,0.06513454,0.040924214,-0.018451195,0.07084049,-0.038617123,-0.031051813,-0.036324564,-0.011471975,0.051772837,0.03606601,-0.0109781,0.017081711,-0.018317768,0.036235172,-0.06275413,-0.08698575,-0.033258032,2.535669e-33,-0.047908302,0.08678721,0.019739365,0.031598814,-0.019070778,0.024327755,0.031135712,0.052711405,-0.053849395,0.011725751,-0.058328625,0.045583036,0.072044194,0.0619046,-0.0034370224,0.017512402,0.01526259,-0.00040828082,0.015407716,-0.007892055,0.06991696,-0.07738019,0.04773587,-0.03464249,0.06718709,0.00041701386,-0.045670643,0.0071163173,0.01861802,-0.0008724377,-0.06585305,0.061080474,-0.12140298,-0.0101977745,0.03009127,-0.017737696,-0.04584882,-0.047887757,0.018858114,0.040456366,-0.06555182,0.10792837,0.023283644,0.017425662,-0.00051535387,-0.017626366,0.114040814,0.0513052,0.16643639,-0.05316123,-0.11348311,-0.052371748,0.052922156,-0.08293777,0.07121605,-0.009239941,0.07677846,0.10034912,0.035351165,-0.008070081,0.008165898,0.049524035,-0.07952936,-0.030164944,-0.053399302,-0.0286725,-0.029345015,-0.019954955,0.050187115,-0.023375751,0.025474677,-0.018776208,-0.028965717,-0.040939458,-0.044539787,-0.06152448,0.0045498507,-0.065453134,0.022460025,-0.018595217,-0.10991346,-0.022854814,-0.019027654,-0.09089264,-0.0089575695,-0.045341425,-0.0024919985,0.04032304,0.028597903,0.04835656,0.032074757,-0.022336561,0.035200614,0.064858906,-0.054318935,-4.070694e-33,-0.052797534,0.041282345,0.020338763,0.019745164,0.04173925,-0.0067960545,0.002624712,0.0039805844,-0.013225319,-0.032813013,0.049519718,0.05160899,-0.01479624,0.017950132,0.036185335,0.04812054,-0.048833627,-0.038665228,-0.03246196,-0.040986788,0.05767858,0.11970098,-0.080362715,-0.061080962,0.05211594,-0.04354145,-0.033619348,0.027897824,-0.036074303,0.027517948,-0.0054044495,0.041292053,-0.06384303,0.1147981,0.06492017,0.031057207,0.066458374,0.011501173,0.0032407138,0.058170646,0.11119691,0.02741255,-0.012531957,0.039909814,0.078592695,0.051563326,-0.11867639,0.02544572,-0.08560449,0.04434606,-0.059575606,-0.0627414,-0.033587065,0.006231676,0.06149203,-0.032313038,0.075853646,0.046870388,0.0110467905,0.021617955,0.03245944,-0.06237869,0.031824026,0.057756856,-0.08586611,-0.051362783,-0.0053591058,0.066758275,-0.097242706,0.038151573,-0.028854873,0.031433996,0.030655991,-0.064039394,-0.092612274,0.0140341185,0.08128695,-0.038857613,-0.06313615,-0.09534569,-0.061613567,0.11913495,-0.032082964,0.00453931,-0.0130164465,0.047346387,0.07053739,-0.013802298,0.011126247,0.029446106,-0.023855504,-0.0398384,0.04546717,-0.06607627,-0.051602285,-5.627533e-08,-0.033305656,0.040175963,-0.013881654,-0.036159277,0.0438168,0.0152597455,-0.03188495,-0.037129715,-0.059477504,-0.008819213,0.04009863,-0.068293,-0.012000872,-0.004778703,0.109220564,0.019659609,-0.002098846,-0.015578904,-0.06649576,-0.0038978837,0.038011912,0.013890882,-0.035399,0.06342302,-0.010116351,-0.054802056,0.044043835,0.030471848,-0.013446034,-0.009022111,-0.06599587,0.054333348,0.032508813,-0.034048393,0.06784687,0.038203232,-0.015154252,0.04204968,0.011634502,0.009521589,-0.0898887,-0.019075554,-0.053649344,-0.027125636,0.08226165,-0.0068906923,0.0027846782,-0.025065456,-0.0003589637,0.039526958,-0.017766014,-0.10077566,-0.04053973,-0.04588121,0.0016068283,-0.045409746,-0.05561481,-0.096003324,-0.022729576,-0.0593357,0.029606076,-0.036643546,-0.017132888,-0.04927508]

customUserBio = "I am a CS student interested in computer vision and machine learning. My research focuses on developing algorithms for image recognition and natural language processing. I want to find professors who specialize in these areas and have published papers on related topics."

custom_embedding = [0.015485135838389397, -0.04993753880262375, -0.024799328297376633, -0.013122261501848698, 0.03936173766851425, -0.02141404151916504, 0.011243033222854137, -0.0038042431697249413, -0.06075965240597725, -0.001386877498589456, -0.058860763907432556, 0.018062634393572807, 0.04736853390932083, 0.0368385948240757, -0.02936096489429474, 0.05264303460717201, -0.024389397352933884, 0.04629063606262207, -0.0511435940861702, -0.0600597970187664, -0.02417570725083351, 0.005602861288934946, 0.032212186604738235, -0.07634226977825165, -0.04620124399662018, -0.008932538330554962, 0.05511719360947609, -0.1180216521024704, 0.01652747578918934, -0.01391912717372179, -0.02568422071635723, 0.0035903286188840866, 0.016619909554719925, 0.02673541009426117, 0.03433160111308098, 0.060681313276290894, -0.00601835735142231, 0.09102807193994522, 0.008899320848286152, -0.0041153752245008945, -0.0675182044506073, 0.011877582408487797, 0.029222823679447174, -0.050393808633089066, 0.09393284469842911, -0.0280607920140028, -0.021008586511015892, -0.0456734262406826, 0.03283705934882164, 4.0419879951514304e-05, -0.14167596399784088, -0.08012587577104568, -0.03716224804520607, -0.03946169838309288, -0.09162766486406326, -0.012279254384338856, 0.03483284264802933, -0.007354905363172293, 0.0023763608187437057, -0.02256816439330578, 0.025532040745019913, -0.06454378366470337, -0.07544299215078354, 0.014485119841992855, -0.0018685859395191073, 0.057203199714422226, -0.032427381724119186, 0.03423650935292244, 0.030328504741191864, -0.06437723338603973, -0.047478411346673965, 0.08172516524791718, 0.006214861758053303, 0.02959783747792244, 0.042082782834768295, -0.018844833597540855, 0.043634820729494095, -0.028886932879686356, 0.06730550527572632, -0.08789950609207153, 0.04157334193587303, -0.07604110240936279, 0.013113374821841717, -0.0268796905875206, 0.05892757698893547, -0.03140547126531601, -0.08908524364233017, -0.009580369107425213, -0.025335486978292465, -0.03385445848107338, 0.016174690797924995, -0.028508145362138748, -0.03869583457708359, -0.02678123489022255, 0.03508578613400459, -0.007909202948212624, 0.048169009387493134, -0.09284735471010208, 0.03710128739476204, 0.040325846523046494, -0.08027012646198273, -0.007573214825242758, 0.042274635285139084, -0.03577641397714615, 0.02368033491075039, 0.09576211124658585, -0.050496622920036316, 0.031235696747899055, 0.06672155112028122, -0.005895578768104315, 0.06501457095146179, 0.05626733601093292, -0.1010826975107193, 0.01775042526423931, 0.03300166130065918, -0.04711730033159256, 0.05881228670477867, 0.008218131959438324, 0.032863371074199677, -0.03094174526631832, -0.12286919355392456, 0.027315516024827957, -0.04492984339594841, -0.10907130688428879, -0.0075638918206095695, -0.05776752531528473, -0.08237887173891068, 1.2528724603266146e-33, 0.007282163016498089, 0.039251405745744705, 0.03383740037679672, -0.007671748753637075, 0.02923274040222168, -0.03744761645793915, 0.001119882450439036, -0.009601146914064884, -0.029126156121492386, -0.0694861188530922, 0.015786174684762955, 0.07284586131572723, 0.009757550433278084, 0.11277975887060165, -0.00474189780652523, -0.0730869397521019, 0.05715589225292206, -0.058751121163368225, -0.03028040938079357, 0.02439231239259243, 0.018863746896386147, -0.011435582302510738, 0.009411903098225594, 0.06365491449832916, 0.0012428152840584517, 0.04152991622686386, 0.012608232907950878, -0.05819232389330864, 0.10575689375400543, 0.012835424393415451, 0.042310718446969986, 0.041635580360889435, -0.08943834900856018, -0.009591015987098217, 0.11626660078763962, 0.073699451982975, 0.019602667540311813, 0.02660844288766384, 0.05098046362400055, 0.02228093147277832, -0.011634870432317257, 0.04143828898668289, 0.06825660914182663, -0.05255429819226265, -0.05969268083572388, 0.00846268329769373, 0.08490036427974701, 0.021558575332164764, 0.07478953152894974, -0.026713727042078972, -0.054390743374824524, -0.04055815935134888, -0.07092857360839844, -0.04748211055994034, 0.03971770033240318, 0.026094313710927963, 0.019907459616661072, -0.014802567660808563, 0.05017098784446716, -0.05235058069229126, 0.030738674104213715, 0.012960211373865604, -0.036904413253068924, -0.011552671901881695, -0.025051716715097427, -0.07980262488126755, 0.021802080795168877, -0.03544115647673607, -0.00324737885966897, 0.014759247191250324, -0.006695505231618881, 0.016544198617339134, 0.008548467420041561, -0.06408676505088806, -0.017339792102575302, 0.06398142874240875, -0.05599658936262131, -0.047097571194171906, -0.025226883590221405, 0.054763294756412506, -0.07576321810483932, -0.002713445108383894, 0.0029706426430493593, -0.04268503561615944, -0.07572466135025024, 0.02284267544746399, 0.0203953068703413, 0.014615190215408802, 0.014492262154817581, -0.021471820771694183, 0.012154106050729752, 0.03442894667387009, 0.01095074787735939, 0.0642605647444725, -0.06524065136909485, -3.697721355312976e-33, -0.02002634108066559, 0.0002601342275738716, 0.04802572354674339, 0.08367495983839035, 0.07731858640909195, 0.014056156389415264, 0.0010958026396110654, 0.004766758065670729, 0.015535479411482811, -0.06116125360131264, 0.05301273614168167, 0.02523953467607498, -0.012828163802623749, 0.1048208624124527, -0.052923381328582764, -0.005232327152043581, -0.03757042810320854, 0.03642923757433891, -0.08404383063316345, -0.001948939636349678, -0.014711078256368637, 0.11183929443359375, -0.05115203186869621, -0.009499737992882729, 0.042680524289608, 0.035096488893032074, -0.007423779461532831, -0.010890171863138676, -0.13970927894115448, 0.04889395087957382, -0.09541162848472595, 0.015135419555008411, -0.06294786930084229, 0.05718193203210831, -0.013456620275974274, 0.06121910735964775, -0.027427172288298607, -0.00119144341442734, -0.0032378342002630234, 0.1079753115773201, 0.06617750227451324, -0.037562549114227295, -0.04012647271156311, -0.0160794910043478, 0.0019341005245223641, -0.06654153019189835, -0.037905991077423096, 0.04460194706916809, 0.027814285829663277, -0.03698758780956268, -0.028415411710739136, -0.016379544511437416, 0.048491235822439194, -0.09179292619228363, 0.019262786954641342, 0.06239575892686844, 0.09834474325180054, -0.009607790037989616, 0.06148539483547211, 0.07401685416698456, -0.07086174935102463, -0.003559660632163286, 0.011321664787828922, 0.027260921895503998, 0.006163783371448517, -0.03867856413125992, -0.12485022097826004, 0.00824109185487032, -0.04007820039987564, -0.04822193458676338, 0.04021501541137695, 0.028979985043406487, -0.007275183219462633, 0.024307936429977417, -0.14488589763641357, 0.01028357818722725, 0.01413118839263916, 0.014577963389456272, -0.010536912828683853, 0.062196046113967896, 0.04001040756702423, -0.025975074619054794, 0.006412067916244268, 0.11049626022577286, 0.00044098927173763514, 0.10570273548364639, 0.01237177848815918, -0.1590832620859146, 0.021830718964338303, -0.09351056069135666, -0.08022728562355042, -0.007985919713973999, 0.02436312846839428, -0.03688625991344452, -0.038519442081451416, -3.305913054418852e-08, -0.14624664187431335, 0.02532908134162426, 0.004475994035601616, -0.05319337546825409, -0.0038912806194275618, 0.0451187826693058, -0.042578261345624924, 0.03183386102318764, -0.06630449742078781, 0.02753695659339428, -0.02674207091331482, -0.0746585950255394, 0.02223210409283638, -0.01069977879524231, 0.0634097307920456, 0.016501106321811676, 0.03205839917063713, -0.01056729070842266, 0.018237687647342682, 0.004738109186291695, 0.09033214300870895, -0.03863212466239929, 0.043851952999830246, 0.06113384664058685, 0.01077730767428875, 0.023018663749098778, 5.130676436237991e-05, -0.06265684217214584, -0.019049089401960373, 0.03673588111996651, -0.08099474757909775, 0.08255834132432938, 0.06557593494653702, -0.05851420387625694, 0.1977175921201706, -0.027509989216923714, 0.031591080129146576, -0.058108605444431305, -0.021896004676818848, 0.031798843294382095, -0.017826348543167114, -0.014009958133101463, 0.01003499049693346, -0.003822299186140299, 0.07498115301132202, 0.07437510043382645, 0.10125486552715302, 0.004913542419672012, -0.06098117306828499, 0.10364554822444916, -0.05071886256337166, -0.0009748710435815156, 0.03265133872628212, 0.015405169688165188, -0.017788780853152275, -0.007601050194352865, 0.05719943344593048, -0.04009360447525978, 0.007239056285470724, 0.024487406015396118, -0.004046750720590353, 0.022802678868174553, -0.04107506945729256, 0.0029200450517237186]

res = db.rag_Search(custom_embedding, match_count = 30)
for record in res:
    print(f"Professor Name:  {record['name']}, Email: {record['email']}, Similarity Score: {record['similarity']}")